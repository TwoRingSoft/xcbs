diff --git a/test/Test Project/.xcbs/Debug/Test Project.build-settings.lock b/test/Test Project/.xcbs/Debug/Test Project.build-settings.lock
index 20a3b2b..3fecbb5 100644
--- a/test/Test Project/.xcbs/Debug/Test Project.build-settings.lock	
+++ b/test/Test Project/.xcbs/Debug/Test Project.build-settings.lock	
@@ -1,6 +1,5 @@
 Build settings for action build and target "Test Project":
     ACTION = build
-    AD_HOC_CODE_SIGNING_ALLOWED = NO
     ALTERNATE_GROUP = staff
     ALTERNATE_MODE = u+w,go-w,a+rX
     ALTERNATE_OWNER = VERSION_INFO_BUILDER
@@ -14,13 +13,12 @@ Build settings for action build and target "Test Project":
     APPLE_INTERNAL_TOOLS = /AppleInternal/Developer/Tools
     APPLICATION_EXTENSION_API_ONLY = NO
     APPLY_RULES_IN_COPY_FILES = NO
-    ARCHS = armv7
-    ARCHS_STANDARD = armv7 arm64
-    ARCHS_STANDARD_32_64_BIT = armv7 arm64
-    ARCHS_STANDARD_32_BIT = armv7
-    ARCHS_STANDARD_64_BIT = arm64
-    ARCHS_STANDARD_INCLUDING_64_BIT = armv7 arm64
-    ARCHS_UNIVERSAL_IPHONE_OS = armv7 arm64
+    ARCHS = x86_64
+    ARCHS_STANDARD = x86_64
+    ARCHS_STANDARD_32_64_BIT = x86_64 i386
+    ARCHS_STANDARD_32_BIT = i386
+    ARCHS_STANDARD_64_BIT = x86_64
+    ARCHS_STANDARD_INCLUDING_64_BIT = x86_64
     ASSETCATALOG_COMPILER_APPICON_NAME = AppIcon
     AVAILABLE_PLATFORMS = appletvos appletvsimulator iphoneos iphonesimulator macosx watchos watchsimulator
     BITCODE_GENERATION_MODE = marker
@@ -30,7 +28,7 @@ Build settings for action build and target "Test Project":
     BUILD_ROOT = SYMROOT
     BUILD_STYLE = 
     BUILD_VARIANTS = normal
-    BUILT_PRODUCTS_DIR = SYMROOT/Debug-iphoneos
+    BUILT_PRODUCTS_DIR = SYMROOT/Debug
     CACHE_ROOT = CCHROOT
     CCHROOT = CCHROOT
     CHMOD = /bin/chmod
@@ -52,50 +50,41 @@ Build settings for action build and target "Test Project":
     CLANG_WARN_SUSPICIOUS_MOVE = YES
     CLANG_WARN_UNREACHABLE_CODE = YES
     CLANG_WARN__DUPLICATE_METHOD_MATCH = YES
-    CLASS_FILE_DIR = OBJROOT/Test Project.build/Debug-iphoneos/Test Project.build/JavaClasses
+    CLASS_FILE_DIR = OBJROOT/Test Project.build/Debug/Test Project.build/JavaClasses
     CLEAN_PRECOMPS = YES
     CLONE_HEADERS = NO
-    CODESIGNING_FOLDER_PATH = SYMROOT/Debug-iphoneos/Test Project.app
+    CODESIGNING_FOLDER_PATH = SYMROOT/Debug/Test Project.app
     CODE_SIGNING_ALLOWED = YES
-    CODE_SIGNING_REQUIRED = YES
-    CODE_SIGN_CONTEXT_CLASS = XCiPhoneOSCodeSignContext
-    CODE_SIGN_IDENTITY = iPhone Developer
     COLOR_DIAGNOSTICS = NO
     COMBINE_HIDPI_IMAGES = NO
     COMPOSITE_SDK_DIRS = OBJROOT/CompositeSDKs
-    COMPRESS_PNG_FILES = YES
+    COMPRESS_PNG_FILES = NO
     CONFIGURATION = Debug
-    CONFIGURATION_BUILD_DIR = SYMROOT/Debug-iphoneos
-    CONFIGURATION_TEMP_DIR = OBJROOT/Test Project.build/Debug-iphoneos
-    CONTENTS_FOLDER_PATH = Test Project.app
+    CONFIGURATION_BUILD_DIR = SYMROOT/Debug
+    CONFIGURATION_TEMP_DIR = OBJROOT/Test Project.build/Debug
+    CONTENTS_FOLDER_PATH = Test Project.app/Contents
     COPYING_PRESERVES_HFS_DATA = NO
     COPY_HEADERS_RUN_UNIFDEF = NO
     COPY_PHASE_STRIP = NO
     COPY_RESOURCES_FROM_STATIC_FRAMEWORKS = YES
-    CORRESPONDING_SIMULATOR_PLATFORM_DIR = DEVELOPER_DIR/Platforms/iPhoneSimulator.platform
-    CORRESPONDING_SIMULATOR_PLATFORM_NAME = iphonesimulator
-    CORRESPONDING_SIMULATOR_SDK_DIR = DEVELOPER_DIR/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator10.2.sdk
-    CORRESPONDING_SIMULATOR_SDK_NAME = iphonesimulator10.2
     CP = /bin/cp
     CREATE_INFOPLIST_SECTION_IN_BINARY = NO
-    CURRENT_ARCH = armv7
+    CURRENT_ARCH = x86_64
     CURRENT_VARIANT = normal
-    DEAD_CODE_STRIPPING = YES
+    DEAD_CODE_STRIPPING = NO
     DEBUGGING_SYMBOLS = YES
     DEBUG_INFORMATION_FORMAT = dwarf
     DEFAULT_COMPILER = com.apple.compilers.llvm.clang.1_0
-    DEFAULT_KEXT_INSTALL_PATH = /System/Library/Extensions
+    DEFAULT_KEXT_INSTALL_PATH = /Library/Extensions
     DEFINES_MODULE = NO
     DEPLOYMENT_LOCATION = NO
     DEPLOYMENT_POSTPROCESSING = NO
-    DEPLOYMENT_TARGET_CLANG_ENV_NAME = IPHONEOS_DEPLOYMENT_TARGET
-    DEPLOYMENT_TARGET_CLANG_FLAG_NAME = miphoneos-version-min
-    DEPLOYMENT_TARGET_CLANG_FLAG_PREFIX = -miphoneos-version-min=
-    DEPLOYMENT_TARGET_SETTING_NAME = IPHONEOS_DEPLOYMENT_TARGET
-    DEPLOYMENT_TARGET_SUGGESTED_VALUES = 8.0 8.1 8.2 8.3 8.4 9.0 9.1 9.2 9.3 10.0 10.1 10.2
-    DERIVED_FILES_DIR = OBJROOT/Test Project.build/Debug-iphoneos/Test Project.build/DerivedSources
-    DERIVED_FILE_DIR = OBJROOT/Test Project.build/Debug-iphoneos/Test Project.build/DerivedSources
-    DERIVED_SOURCES_DIR = OBJROOT/Test Project.build/Debug-iphoneos/Test Project.build/DerivedSources
+    DEPLOYMENT_TARGET_CLANG_ENV_NAME = MACOSX_DEPLOYMENT_TARGET
+    DEPLOYMENT_TARGET_CLANG_FLAG_NAME = mmacosx-version-min
+    DEPLOYMENT_TARGET_SETTING_NAME = MACOSX_DEPLOYMENT_TARGET
+    DERIVED_FILES_DIR = OBJROOT/Test Project.build/Debug/Test Project.build/DerivedSources
+    DERIVED_FILE_DIR = OBJROOT/Test Project.build/Debug/Test Project.build/DerivedSources
+    DERIVED_SOURCES_DIR = OBJROOT/Test Project.build/Debug/Test Project.build/DerivedSources
     DEVELOPER_APPLICATIONS_DIR = DEVELOPER_DIR/Applications
     DEVELOPER_BIN_DIR = DEVELOPER_DIR/usr/bin
     DEVELOPER_DIR = DEVELOPER_DIR
@@ -106,37 +95,34 @@ Build settings for action build and target "Test Project":
     DEVELOPER_TOOLS_DIR = DEVELOPER_DIR/Tools
     DEVELOPER_USR_DIR = DEVELOPER_DIR/usr
     DEVELOPMENT_LANGUAGE = English
-    DOCUMENTATION_FOLDER_PATH = Test Project.app/English.lproj/Documentation
+    DOCUMENTATION_FOLDER_PATH = Test Project.app/Contents/Resources/English.lproj/Documentation
     DO_HEADER_SCANNING_IN_JAM = NO
     DSTROOT = /tmp/Test Project.dst
     DT_TOOLCHAIN_DIR = DEVELOPER_DIR/Toolchains/XcodeDefault.xctoolchain
     DWARF_DSYM_FILE_NAME = Test Project.app.dSYM
     DWARF_DSYM_FILE_SHOULD_ACCOMPANY_PRODUCT = NO
-    DWARF_DSYM_FOLDER_PATH = SYMROOT/Debug-iphoneos
-    EFFECTIVE_PLATFORM_NAME = -iphoneos
+    DWARF_DSYM_FOLDER_PATH = SYMROOT/Debug
     EMBEDDED_CONTENT_CONTAINS_SWIFT = NO
-    EMBEDDED_PROFILE_NAME = embedded.mobileprovision
+    EMBEDDED_PROFILE_NAME = embedded.provisionprofile
     EMBED_ASSET_PACKS_IN_PRODUCT_BUNDLE = NO
-    ENABLE_BITCODE = YES
+    ENABLE_BITCODE = NO
     ENABLE_DEFAULT_HEADER_SEARCH_PATHS = YES
     ENABLE_HEADER_DEPENDENCIES = YES
-    ENABLE_ON_DEMAND_RESOURCES = YES
+    ENABLE_ON_DEMAND_RESOURCES = NO
     ENABLE_STRICT_OBJC_MSGSEND = YES
     ENABLE_TESTABILITY = YES
-    ENTITLEMENTS_ALLOWED = YES
-    ENTITLEMENTS_REQUIRED = YES
     EXCLUDED_INSTALLSRC_SUBDIRECTORY_PATTERNS = .DS_Store .svn .git .hg CVS
     EXCLUDED_RECURSIVE_SEARCH_PATH_SUBDIRECTORIES = *.nib *.lproj *.framework *.gch *.xcode* *.xcassets (*) .DS_Store CVS .svn .git .hg *.pbproj *.pbxproj
-    EXECUTABLES_FOLDER_PATH = Test Project.app/Executables
-    EXECUTABLE_FOLDER_PATH = Test Project.app
+    EXECUTABLES_FOLDER_PATH = Test Project.app/Contents/Executables
+    EXECUTABLE_FOLDER_PATH = Test Project.app/Contents/MacOS
     EXECUTABLE_NAME = Test Project
-    EXECUTABLE_PATH = Test Project.app/Test Project
+    EXECUTABLE_PATH = Test Project.app/Contents/MacOS/Test Project
     EXPANDED_CODE_SIGN_IDENTITY = 
     EXPANDED_CODE_SIGN_IDENTITY_NAME = 
     EXPANDED_PROVISIONING_PROFILE = 
-    FILE_LIST = OBJROOT/Test Project.build/Debug-iphoneos/Test Project.build/Objects/LinkFileList
-    FIXED_FILES_DIR = OBJROOT/Test Project.build/Debug-iphoneos/Test Project.build/FixedFiles
-    FRAMEWORKS_FOLDER_PATH = Test Project.app/Frameworks
+    FILE_LIST = OBJROOT/Test Project.build/Debug/Test Project.build/Objects/LinkFileList
+    FIXED_FILES_DIR = OBJROOT/Test Project.build/Debug/Test Project.build/FixedFiles
+    FRAMEWORKS_FOLDER_PATH = Test Project.app/Contents/Frameworks
     FRAMEWORK_FLAG_PREFIX = -framework
     FRAMEWORK_VERSION = A
     FULL_PRODUCT_NAME = Test Project.app
@@ -149,7 +135,6 @@ Build settings for action build and target "Test Project":
     GCC_PFE_FILE_C_DIALECTS = c objective-c c++ objective-c++
     GCC_PREPROCESSOR_DEFINITIONS = DEBUG=1 
     GCC_SYMBOLS_PRIVATE_EXTERN = NO
-    GCC_THUMB_SUPPORT = YES
     GCC_TREAT_WARNINGS_AS_ERRORS = NO
     GCC_VERSION = com.apple.compilers.llvm.clang.1_0
     GCC_VERSION_IDENTIFIER = com_apple_compilers_llvm_clang_1_0
@@ -176,10 +161,10 @@ Build settings for action build and target "Test Project":
     ICONV = /usr/bin/iconv
     INFOPLIST_EXPAND_BUILD_SETTINGS = YES
     INFOPLIST_FILE = Test Project/Info.plist
-    INFOPLIST_OUTPUT_FORMAT = binary
-    INFOPLIST_PATH = Test Project.app/Info.plist
+    INFOPLIST_OUTPUT_FORMAT = same-as-input
+    INFOPLIST_PATH = Test Project.app/Contents/Info.plist
     INFOPLIST_PREPROCESS = NO
-    INFOSTRINGS_PATH = Test Project.app/English.lproj/InfoPlist.strings
+    INFOSTRINGS_PATH = Test Project.app/Contents/Resources/English.lproj/InfoPlist.strings
     INLINE_PRIVATE_FRAMEWORKS = NO
     INSTALLHDRS_COPY_PHASE = NO
     INSTALLHDRS_SCRIPT_PHASE = NO
@@ -189,13 +174,12 @@ Build settings for action build and target "Test Project":
     INSTALL_OWNER = VERSION_INFO_BUILDER
     INSTALL_PATH = /Applications
     INSTALL_ROOT = /tmp/Test Project.dst
-    IPHONEOS_DEPLOYMENT_TARGET = 10.2
     JAVAC_DEFAULT_FLAGS = -J-Xms64m -J-XX:NewSize=4M -J-Dfile.encoding=UTF8
     JAVA_APP_STUB = /System/Library/Frameworks/JavaVM.framework/Resources/MacOS/JavaApplicationStub
     JAVA_ARCHIVE_CLASSES = YES
     JAVA_ARCHIVE_TYPE = JAR
     JAVA_COMPILER = /usr/bin/javac
-    JAVA_FOLDER_PATH = Test Project.app/Java
+    JAVA_FOLDER_PATH = Test Project.app/Contents/Resources/Java
     JAVA_FRAMEWORK_RESOURCES_DIRS = Resources
     JAVA_JAR_FLAGS = cv
     JAVA_SOURCE_SUBDIR = .
@@ -203,9 +187,9 @@ Build settings for action build and target "Test Project":
     JAVA_ZIP_FLAGS = -urg
     JIKES_DEFAULT_FLAGS = +E +OLDCSO
     KEEP_PRIVATE_EXTERNS = NO
-    LD_DEPENDENCY_INFO_FILE = OBJROOT/Test Project.build/Debug-iphoneos/Test Project.build/Objects-normal/armv7/Test Project_dependency_info.dat
+    LD_DEPENDENCY_INFO_FILE = OBJROOT/Test Project.build/Debug/Test Project.build/Objects-normal/x86_64/Test Project_dependency_info.dat
     LD_GENERATE_MAP_FILE = NO
-    LD_MAP_FILE_PATH = OBJROOT/Test Project.build/Debug-iphoneos/Test Project.build/Test Project-LinkMap-normal-armv7.txt
+    LD_MAP_FILE_PATH = OBJROOT/Test Project.build/Debug/Test Project.build/Test Project-LinkMap-normal-x86_64.txt
     LD_NO_PIE = NO
     LD_QUOTE_LINKER_ARGUMENTS_FOR_COMPILER_DRIVER = YES
     LD_RUNPATH_SEARCH_PATHS =  @executable_path/Frameworks
@@ -215,10 +199,10 @@ Build settings for action build and target "Test Project":
     LIBRARY_FLAG_PREFIX = -l
     LIBRARY_KEXT_INSTALL_PATH = /Library/Extensions
     LINKER_DISPLAYS_MANGLED_NAMES = NO
-    LINK_FILE_LIST_normal_armv7 = 
+    LINK_FILE_LIST_normal_x86_64 = 
     LINK_WITH_STANDARD_LIBRARIES = YES
     LOCALIZABLE_CONTENT_DIR = 
-    LOCALIZED_RESOURCES_FOLDER_PATH = Test Project.app/English.lproj
+    LOCALIZED_RESOURCES_FOLDER_PATH = Test Project.app/Contents/Resources/English.lproj
     LOCAL_ADMIN_APPS_DIR = /Applications/Utilities
     LOCAL_APPS_DIR = /Applications
     LOCAL_DEVELOPER_DIR = /Library/Developer
@@ -226,21 +210,22 @@ Build settings for action build and target "Test Project":
     LOCROOT = 
     LOCSYMROOT = 
     MACH_O_TYPE = mh_execute
+    MACOSX_DEPLOYMENT_TARGET = 10.12
     MAC_OS_X_PRODUCT_BUILD_VERSION = MAC_OS_X_PRODUCT_BUILD_VERSION
     MAC_OS_X_VERSION_ACTUAL = MAC_OS_X_VERSION_ACTUAL
     MAC_OS_X_VERSION_MAJOR = MAC_OS_X_VERSION_MAJOR
     MAC_OS_X_VERSION_MINOR = MAC_OS_X_VERSION_MINOR
     METAL_LIBRARY_FILE_BASE = default
-    METAL_LIBRARY_OUTPUT_DIR = SYMROOT/Debug-iphoneos/Test Project.app
+    METAL_LIBRARY_OUTPUT_DIR = SYMROOT/Debug/Test Project.app/Contents/Resources
     MODULE_CACHE_DIR = MODULE_CACHE_DIR
     MTL_ENABLE_DEBUG_INFO = YES
-    NATIVE_ARCH = armv7
+    NATIVE_ARCH = i386
     NATIVE_ARCH_32_BIT = i386
     NATIVE_ARCH_64_BIT = x86_64
     NATIVE_ARCH_ACTUAL = x86_64
     NO_COMMON = YES
-    OBJECT_FILE_DIR = OBJROOT/Test Project.build/Debug-iphoneos/Test Project.build/Objects
-    OBJECT_FILE_DIR_normal = OBJROOT/Test Project.build/Debug-iphoneos/Test Project.build/Objects-normal
+    OBJECT_FILE_DIR = OBJROOT/Test Project.build/Debug/Test Project.build/Objects
+    OBJECT_FILE_DIR_normal = OBJROOT/Test Project.build/Debug/Test Project.build/Objects-normal
     OBJROOT = OBJROOT
     ONLY_ACTIVE_ARCH = YES
     OS = MACOS
@@ -249,27 +234,27 @@ Build settings for action build and target "Test Project":
     PASCAL_STRINGS = YES
     PATH = PATH
     PATH_PREFIXES_EXCLUDED_FROM_HEADER_DEPENDENCIES = /usr/include /usr/local/include /System/Library/Frameworks /System/Library/PrivateFrameworks DEVELOPER_DIR/Headers DEVELOPER_DIR/SDKs DEVELOPER_DIR/Platforms
-    PBDEVELOPMENTPLIST_PATH = Test Project.app/pbdevelopment.plist
+    PBDEVELOPMENTPLIST_PATH = Test Project.app/Contents/pbdevelopment.plist
     PFE_FILE_C_DIALECTS = objective-c
-    PKGINFO_FILE_PATH = OBJROOT/Test Project.build/Debug-iphoneos/Test Project.build/PkgInfo
-    PKGINFO_PATH = Test Project.app/PkgInfo
-    PLATFORM_DEVELOPER_APPLICATIONS_DIR = DEVELOPER_DIR/Platforms/iPhoneOS.platform/Developer/Applications
-    PLATFORM_DEVELOPER_BIN_DIR = DEVELOPER_DIR/Platforms/iPhoneOS.platform/Developer/usr/bin
-    PLATFORM_DEVELOPER_LIBRARY_DIR = LEGACY_DEVELOPER_DIR/Library
-    PLATFORM_DEVELOPER_SDK_DIR = DEVELOPER_DIR/Platforms/iPhoneOS.platform/Developer/SDKs
-    PLATFORM_DEVELOPER_TOOLS_DIR = DEVELOPER_DIR/Platforms/iPhoneOS.platform/Developer/Tools
-    PLATFORM_DEVELOPER_USR_DIR = DEVELOPER_DIR/Platforms/iPhoneOS.platform/Developer/usr
-    PLATFORM_DIR = DEVELOPER_DIR/Platforms/iPhoneOS.platform
-    PLATFORM_DISPLAY_NAME = iOS
-    PLATFORM_NAME = iphoneos
-    PLATFORM_PREFERRED_ARCH = arm64
-    PLATFORM_PRODUCT_BUILD_VERSION = PLATFORM_PRODUCT_BUILD_VERSION
-    PLIST_FILE_OUTPUT_FORMAT = binary
-    PLUGINS_FOLDER_PATH = Test Project.app/PlugIns
+    PKGINFO_FILE_PATH = OBJROOT/Test Project.build/Debug/Test Project.build/PkgInfo
+    PKGINFO_PATH = Test Project.app/Contents/PkgInfo
+    PLATFORM_DEVELOPER_APPLICATIONS_DIR = DEVELOPER_DIR/Applications
+    PLATFORM_DEVELOPER_BIN_DIR = DEVELOPER_DIR/usr/bin
+    PLATFORM_DEVELOPER_LIBRARY_DIR = DEVELOPER_DIR/Library
+    PLATFORM_DEVELOPER_SDK_DIR = DEVELOPER_DIR/Platforms/MacOSX.platform/Developer/SDKs
+    PLATFORM_DEVELOPER_TOOLS_DIR = DEVELOPER_DIR/Tools
+    PLATFORM_DEVELOPER_USR_DIR = DEVELOPER_DIR/usr
+    PLATFORM_DIR = DEVELOPER_DIR/Platforms/MacOSX.platform
+    PLATFORM_DISPLAY_NAME = macOS
+    PLATFORM_NAME = macosx
+    PLATFORM_PREFERRED_ARCH = x86_64
+    XCODE_PRODUCT_BUILD_VERSION = XCODE_PRODUCT_BUILD_VERSION
+    PLIST_FILE_OUTPUT_FORMAT = same-as-input
+    PLUGINS_FOLDER_PATH = Test Project.app/Contents/PlugIns
     PRECOMPS_INCLUDE_HEADERS_FROM_BUILT_PRODUCTS_DIR = YES
-    PRECOMP_DESTINATION_DIR = OBJROOT/Test Project.build/Debug-iphoneos/Test Project.build/PrefixHeaders
+    PRECOMP_DESTINATION_DIR = OBJROOT/Test Project.build/Debug/Test Project.build/PrefixHeaders
     PRESERVE_DEAD_CODE_INITS_AND_TERMS = NO
-    PRIVATE_HEADERS_FOLDER_PATH = Test Project.app/PrivateHeaders
+    PRIVATE_HEADERS_FOLDER_PATH = Test Project.app/Contents/PrivateHeaders
     PRODUCT_BUNDLE_IDENTIFIER = com.tworingsoft.Test-Project
     PRODUCT_MODULE_NAME = Test_Project
     PRODUCT_NAME = Test Project
@@ -283,50 +268,48 @@ Build settings for action build and target "Test Project":
     PROJECT_NAME = Test Project
     PROJECT_TEMP_DIR = OBJROOT/Test Project.build
     PROJECT_TEMP_ROOT = OBJROOT
-    PROVISIONING_PROFILE_REQUIRED = YES
-    PUBLIC_HEADERS_FOLDER_PATH = Test Project.app/Headers
+    PUBLIC_HEADERS_FOLDER_PATH = Test Project.app/Contents/Headers
     RECURSIVE_SEARCH_PATHS_FOLLOW_SYMLINKS = YES
     REMOVE_CVS_FROM_RESOURCES = YES
     REMOVE_GIT_FROM_RESOURCES = YES
     REMOVE_HEADERS_FROM_EMBEDDED_BUNDLES = YES
     REMOVE_HG_FROM_RESOURCES = YES
     REMOVE_SVN_FROM_RESOURCES = YES
-    RESOURCE_RULES_REQUIRED = YES
-    REZ_COLLECTOR_DIR = OBJROOT/Test Project.build/Debug-iphoneos/Test Project.build/ResourceManagerResources
-    REZ_OBJECTS_DIR = OBJROOT/Test Project.build/Debug-iphoneos/Test Project.build/ResourceManagerResources/Objects
+    REZ_COLLECTOR_DIR = OBJROOT/Test Project.build/Debug/Test Project.build/ResourceManagerResources
+    REZ_OBJECTS_DIR = OBJROOT/Test Project.build/Debug/Test Project.build/ResourceManagerResources/Objects
     SCAN_ALL_SOURCE_FILES_FOR_INCLUDES = NO
-    SCRIPTS_FOLDER_PATH = Test Project.app/Scripts
-    SDKROOT = DEVELOPER_DIR/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS10.2.sdk
-    SDK_DIR = DEVELOPER_DIR/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS10.2.sdk
-    SDK_DIR_iphoneos10_2 = DEVELOPER_DIR/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS10.2.sdk
-    SDK_NAME = iphoneos10.2
-    SDK_NAMES = iphoneos10.2
-    SDK_PRODUCT_BUILD_VERSION = PLATFORM_PRODUCT_BUILD_VERSION
-    SDK_VERSION = 10.2
-    SDK_VERSION_ACTUAL = SDK_VERSION_ACTUAL
+    SCRIPTS_FOLDER_PATH = Test Project.app/Contents/Resources/Scripts
+    SDKROOT = DEVELOPER_DIR/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.12.sdk
+    SDK_DIR = DEVELOPER_DIR/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.12.sdk
+    SDK_DIR_macosx10_12 = DEVELOPER_DIR/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.12.sdk
+    SDK_NAME = macosx10.12
+    SDK_NAMES = macosx10.12
+    SDK_PRODUCT_BUILD_VERSION = 16C58
+    SDK_VERSION = 10.12
+    SDK_VERSION_MAJOR = SDK_VERSION_MAJOR
     SDK_VERSION_MAJOR = SDK_VERSION_MAJOR
-    SDK_VERSION_MINOR = 200
+    SDK_VERSION_MINOR = 1200
     SED = /usr/bin/sed
     SEPARATE_STRIP = NO
     SEPARATE_SYMBOL_EDIT = NO
     SET_DIR_MODE_OWNER_GROUP = YES
     SET_FILE_MODE_OWNER_GROUP = NO
-    SHALLOW_BUNDLE = YES
-    SHARED_DERIVED_FILE_DIR = SYMROOT/Debug-iphoneos/DerivedSources
-    SHARED_FRAMEWORKS_FOLDER_PATH = Test Project.app/SharedFrameworks
+    SHALLOW_BUNDLE = NO
+    SHARED_DERIVED_FILE_DIR = SYMROOT/Debug/DerivedSources
+    SHARED_FRAMEWORKS_FOLDER_PATH = Test Project.app/Contents/SharedFrameworks
     SHARED_PRECOMPS_DIR = OBJROOT/PrecompiledHeaders
-    SHARED_SUPPORT_FOLDER_PATH = Test Project.app/SharedSupport
+    SHARED_SUPPORT_FOLDER_PATH = Test Project.app/Contents/SharedSupport
     SKIP_INSTALL = NO
     SOURCE_ROOT = SRCROOT
     SRCROOT = SRCROOT
-    STRINGS_FILE_OUTPUT_ENCODING = binary
-    STRIP_BITCODE_FROM_COPIED_FILES = YES
+    STRINGS_FILE_OUTPUT_ENCODING = UTF-16
+    STRIP_BITCODE_FROM_COPIED_FILES = NO
     STRIP_INSTALLED_PRODUCT = YES
+    STRIP_PNG_TEXT = NO
     STRIP_STYLE = all
-    SUPPORTED_DEVICE_FAMILIES = 1,2
-    SUPPORTED_PLATFORMS = iphonesimulator iphoneos
+    SUPPORTED_PLATFORMS = macosx
     SUPPORTS_TEXT_BASED_API = NO
-    SWIFT_PLATFORM_TARGET_PREFIX = ios
+    SWIFT_PLATFORM_TARGET_PREFIX = macosx
     SYMROOT = SYMROOT
     SYSTEM_ADMIN_APPS_DIR = /Applications/Utilities
     SYSTEM_APPS_DIR = /Applications
@@ -352,17 +335,17 @@ Build settings for action build and target "Test Project":
     TAPI_VERIFY_MODE = ErrorsOnly
     TARGETED_DEVICE_FAMILY = 1,2
     TARGETNAME = Test Project
-    TARGET_BUILD_DIR = SYMROOT/Debug-iphoneos
+    TARGET_BUILD_DIR = SYMROOT/Debug
     TARGET_NAME = Test Project
-    TARGET_TEMP_DIR = OBJROOT/Test Project.build/Debug-iphoneos/Test Project.build
-    TEMP_DIR = OBJROOT/Test Project.build/Debug-iphoneos/Test Project.build
-    TEMP_FILES_DIR = OBJROOT/Test Project.build/Debug-iphoneos/Test Project.build
-    TEMP_FILE_DIR = OBJROOT/Test Project.build/Debug-iphoneos/Test Project.build
+    TARGET_TEMP_DIR = OBJROOT/Test Project.build/Debug/Test Project.build
+    TEMP_DIR = OBJROOT/Test Project.build/Debug/Test Project.build
+    TEMP_FILES_DIR = OBJROOT/Test Project.build/Debug/Test Project.build
+    TEMP_FILE_DIR = OBJROOT/Test Project.build/Debug/Test Project.build
     TEMP_ROOT = OBJROOT
     TOOLCHAIN_DIR = DEVELOPER_DIR/Toolchains/XcodeDefault.xctoolchain
     TREAT_MISSING_BASELINES_AS_TEST_FAILURES = NO
     UID = 501
-    UNLOCALIZED_RESOURCES_FOLDER_PATH = Test Project.app
+    UNLOCALIZED_RESOURCES_FOLDER_PATH = Test Project.app/Contents/Resources
     UNSTRIPPED_PRODUCT = NO
     USER = VERSION_INFO_BUILDER
     USER_APPS_DIR = USER_APPS_DIR
@@ -371,9 +354,9 @@ Build settings for action build and target "Test Project":
     USE_HEADERMAP = YES
     USE_HEADER_SYMLINKS = NO
     VALIDATE_PRODUCT = NO
-    VALID_ARCHS = arm64 armv7 armv7s
+    VALID_ARCHS = i386 x86_64
     VERBOSE_PBXCP = NO
-    VERSIONPLIST_PATH = Test Project.app/version.plist
+    VERSIONPLIST_PATH = Test Project.app/Contents/version.plist
     VERSION_INFO_BUILDER = VERSION_INFO_BUILDER
     VERSION_INFO_FILE = Test Project_vers.c
     VERSION_INFO_STRING = "@(#)PROGRAM:Test Project  PROJECT:Test Project-"
@@ -386,8 +369,8 @@ Build settings for action build and target "Test Project":
     XCODE_VERSION_ACTUAL = XCODE_VERSION_ACTUAL
     XCODE_VERSION_MAJOR = XCODE_VERSION_MAJOR
     XCODE_VERSION_MINOR = XCODE_VERSION_MINOR
-    XPCSERVICES_FOLDER_PATH = Test Project.app/XPCServices
+    XPCSERVICES_FOLDER_PATH = Test Project.app/Contents/XPCServices
     YACC = yacc
-    arch = armv7
+    arch = x86_64
     variant = normal
 
diff --git a/test/Test Project/.xcbs/Other Configuration/Test Project.build-settings.lock b/test/Test Project/.xcbs/Other Configuration/Test Project.build-settings.lock
index 2fcda32..b7aa3e4 100644
--- a/test/Test Project/.xcbs/Other Configuration/Test Project.build-settings.lock	
+++ b/test/Test Project/.xcbs/Other Configuration/Test Project.build-settings.lock	
@@ -1,6 +1,5 @@
 Build settings for action build and target "Test Project":
     ACTION = build
-    AD_HOC_CODE_SIGNING_ALLOWED = NO
     ALTERNATE_GROUP = staff
     ALTERNATE_MODE = u+w,go-w,a+rX
     ALTERNATE_OWNER = VERSION_INFO_BUILDER
@@ -14,13 +13,12 @@ Build settings for action build and target "Test Project":
     APPLE_INTERNAL_TOOLS = /AppleInternal/Developer/Tools
     APPLICATION_EXTENSION_API_ONLY = NO
     APPLY_RULES_IN_COPY_FILES = NO
-    ARCHS = armv7
-    ARCHS_STANDARD = armv7 arm64
-    ARCHS_STANDARD_32_64_BIT = armv7 arm64
-    ARCHS_STANDARD_32_BIT = armv7
-    ARCHS_STANDARD_64_BIT = arm64
-    ARCHS_STANDARD_INCLUDING_64_BIT = armv7 arm64
-    ARCHS_UNIVERSAL_IPHONE_OS = armv7 arm64
+    ARCHS = x86_64
+    ARCHS_STANDARD = x86_64
+    ARCHS_STANDARD_32_64_BIT = x86_64 i386
+    ARCHS_STANDARD_32_BIT = i386
+    ARCHS_STANDARD_64_BIT = x86_64
+    ARCHS_STANDARD_INCLUDING_64_BIT = x86_64
     ASSETCATALOG_COMPILER_APPICON_NAME = AppIcon
     AVAILABLE_PLATFORMS = appletvos appletvsimulator iphoneos iphonesimulator macosx watchos watchsimulator
     BITCODE_GENERATION_MODE = marker
@@ -30,7 +28,7 @@ Build settings for action build and target "Test Project":
     BUILD_ROOT = SYMROOT
     BUILD_STYLE = 
     BUILD_VARIANTS = normal
-    BUILT_PRODUCTS_DIR = SYMROOT/Other Configuration-iphoneos
+    BUILT_PRODUCTS_DIR = SYMROOT/Other Configuration
     CACHE_ROOT = CCHROOT
     CCHROOT = CCHROOT
     CHMOD = /bin/chmod
@@ -52,50 +50,41 @@ Build settings for action build and target "Test Project":
     CLANG_WARN_SUSPICIOUS_MOVE = YES
     CLANG_WARN_UNREACHABLE_CODE = YES
     CLANG_WARN__DUPLICATE_METHOD_MATCH = YES
-    CLASS_FILE_DIR = OBJROOT/Test Project.build/Other Configuration-iphoneos/Test Project.build/JavaClasses
+    CLASS_FILE_DIR = OBJROOT/Test Project.build/Other Configuration/Test Project.build/JavaClasses
     CLEAN_PRECOMPS = YES
     CLONE_HEADERS = NO
-    CODESIGNING_FOLDER_PATH = SYMROOT/Other Configuration-iphoneos/Test Project.app
+    CODESIGNING_FOLDER_PATH = SYMROOT/Other Configuration/Test Project.app
     CODE_SIGNING_ALLOWED = YES
-    CODE_SIGNING_REQUIRED = YES
-    CODE_SIGN_CONTEXT_CLASS = XCiPhoneOSCodeSignContext
-    CODE_SIGN_IDENTITY = iPhone Developer
     COLOR_DIAGNOSTICS = NO
     COMBINE_HIDPI_IMAGES = NO
     COMPOSITE_SDK_DIRS = OBJROOT/CompositeSDKs
-    COMPRESS_PNG_FILES = YES
+    COMPRESS_PNG_FILES = NO
     CONFIGURATION = Other Configuration
-    CONFIGURATION_BUILD_DIR = SYMROOT/Other Configuration-iphoneos
-    CONFIGURATION_TEMP_DIR = OBJROOT/Test Project.build/Other Configuration-iphoneos
-    CONTENTS_FOLDER_PATH = Test Project.app
+    CONFIGURATION_BUILD_DIR = SYMROOT/Other Configuration
+    CONFIGURATION_TEMP_DIR = OBJROOT/Test Project.build/Other Configuration
+    CONTENTS_FOLDER_PATH = Test Project.app/Contents
     COPYING_PRESERVES_HFS_DATA = NO
     COPY_HEADERS_RUN_UNIFDEF = NO
     COPY_PHASE_STRIP = NO
     COPY_RESOURCES_FROM_STATIC_FRAMEWORKS = YES
-    CORRESPONDING_SIMULATOR_PLATFORM_DIR = DEVELOPER_DIR/Platforms/iPhoneSimulator.platform
-    CORRESPONDING_SIMULATOR_PLATFORM_NAME = iphonesimulator
-    CORRESPONDING_SIMULATOR_SDK_DIR = DEVELOPER_DIR/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator10.2.sdk
-    CORRESPONDING_SIMULATOR_SDK_NAME = iphonesimulator10.2
     CP = /bin/cp
     CREATE_INFOPLIST_SECTION_IN_BINARY = NO
-    CURRENT_ARCH = armv7
+    CURRENT_ARCH = x86_64
     CURRENT_VARIANT = normal
-    DEAD_CODE_STRIPPING = YES
+    DEAD_CODE_STRIPPING = NO
     DEBUGGING_SYMBOLS = YES
     DEBUG_INFORMATION_FORMAT = dwarf
     DEFAULT_COMPILER = com.apple.compilers.llvm.clang.1_0
-    DEFAULT_KEXT_INSTALL_PATH = /System/Library/Extensions
+    DEFAULT_KEXT_INSTALL_PATH = /Library/Extensions
     DEFINES_MODULE = NO
     DEPLOYMENT_LOCATION = NO
     DEPLOYMENT_POSTPROCESSING = NO
-    DEPLOYMENT_TARGET_CLANG_ENV_NAME = IPHONEOS_DEPLOYMENT_TARGET
-    DEPLOYMENT_TARGET_CLANG_FLAG_NAME = miphoneos-version-min
-    DEPLOYMENT_TARGET_CLANG_FLAG_PREFIX = -miphoneos-version-min=
-    DEPLOYMENT_TARGET_SETTING_NAME = IPHONEOS_DEPLOYMENT_TARGET
-    DEPLOYMENT_TARGET_SUGGESTED_VALUES = 8.0 8.1 8.2 8.3 8.4 9.0 9.1 9.2 9.3 10.0 10.1 10.2
-    DERIVED_FILES_DIR = OBJROOT/Test Project.build/Other Configuration-iphoneos/Test Project.build/DerivedSources
-    DERIVED_FILE_DIR = OBJROOT/Test Project.build/Other Configuration-iphoneos/Test Project.build/DerivedSources
-    DERIVED_SOURCES_DIR = OBJROOT/Test Project.build/Other Configuration-iphoneos/Test Project.build/DerivedSources
+    DEPLOYMENT_TARGET_CLANG_ENV_NAME = MACOSX_DEPLOYMENT_TARGET
+    DEPLOYMENT_TARGET_CLANG_FLAG_NAME = mmacosx-version-min
+    DEPLOYMENT_TARGET_SETTING_NAME = MACOSX_DEPLOYMENT_TARGET
+    DERIVED_FILES_DIR = OBJROOT/Test Project.build/Other Configuration/Test Project.build/DerivedSources
+    DERIVED_FILE_DIR = OBJROOT/Test Project.build/Other Configuration/Test Project.build/DerivedSources
+    DERIVED_SOURCES_DIR = OBJROOT/Test Project.build/Other Configuration/Test Project.build/DerivedSources
     DEVELOPER_APPLICATIONS_DIR = DEVELOPER_DIR/Applications
     DEVELOPER_BIN_DIR = DEVELOPER_DIR/usr/bin
     DEVELOPER_DIR = DEVELOPER_DIR
@@ -106,37 +95,34 @@ Build settings for action build and target "Test Project":
     DEVELOPER_TOOLS_DIR = DEVELOPER_DIR/Tools
     DEVELOPER_USR_DIR = DEVELOPER_DIR/usr
     DEVELOPMENT_LANGUAGE = English
-    DOCUMENTATION_FOLDER_PATH = Test Project.app/English.lproj/Documentation
+    DOCUMENTATION_FOLDER_PATH = Test Project.app/Contents/Resources/English.lproj/Documentation
     DO_HEADER_SCANNING_IN_JAM = NO
     DSTROOT = /tmp/Test Project.dst
     DT_TOOLCHAIN_DIR = DEVELOPER_DIR/Toolchains/XcodeDefault.xctoolchain
     DWARF_DSYM_FILE_NAME = Test Project.app.dSYM
     DWARF_DSYM_FILE_SHOULD_ACCOMPANY_PRODUCT = NO
-    DWARF_DSYM_FOLDER_PATH = SYMROOT/Other Configuration-iphoneos
-    EFFECTIVE_PLATFORM_NAME = -iphoneos
+    DWARF_DSYM_FOLDER_PATH = SYMROOT/Other Configuration
     EMBEDDED_CONTENT_CONTAINS_SWIFT = NO
-    EMBEDDED_PROFILE_NAME = embedded.mobileprovision
+    EMBEDDED_PROFILE_NAME = embedded.provisionprofile
     EMBED_ASSET_PACKS_IN_PRODUCT_BUNDLE = NO
-    ENABLE_BITCODE = YES
+    ENABLE_BITCODE = NO
     ENABLE_DEFAULT_HEADER_SEARCH_PATHS = YES
     ENABLE_HEADER_DEPENDENCIES = YES
-    ENABLE_ON_DEMAND_RESOURCES = YES
+    ENABLE_ON_DEMAND_RESOURCES = NO
     ENABLE_STRICT_OBJC_MSGSEND = YES
     ENABLE_TESTABILITY = YES
-    ENTITLEMENTS_ALLOWED = YES
-    ENTITLEMENTS_REQUIRED = YES
     EXCLUDED_INSTALLSRC_SUBDIRECTORY_PATTERNS = .DS_Store .svn .git .hg CVS
     EXCLUDED_RECURSIVE_SEARCH_PATH_SUBDIRECTORIES = *.nib *.lproj *.framework *.gch *.xcode* *.xcassets (*) .DS_Store CVS .svn .git .hg *.pbproj *.pbxproj
-    EXECUTABLES_FOLDER_PATH = Test Project.app/Executables
-    EXECUTABLE_FOLDER_PATH = Test Project.app
+    EXECUTABLES_FOLDER_PATH = Test Project.app/Contents/Executables
+    EXECUTABLE_FOLDER_PATH = Test Project.app/Contents/MacOS
     EXECUTABLE_NAME = Test Project
-    EXECUTABLE_PATH = Test Project.app/Test Project
+    EXECUTABLE_PATH = Test Project.app/Contents/MacOS/Test Project
     EXPANDED_CODE_SIGN_IDENTITY = 
     EXPANDED_CODE_SIGN_IDENTITY_NAME = 
     EXPANDED_PROVISIONING_PROFILE = 
-    FILE_LIST = OBJROOT/Test Project.build/Other Configuration-iphoneos/Test Project.build/Objects/LinkFileList
-    FIXED_FILES_DIR = OBJROOT/Test Project.build/Other Configuration-iphoneos/Test Project.build/FixedFiles
-    FRAMEWORKS_FOLDER_PATH = Test Project.app/Frameworks
+    FILE_LIST = OBJROOT/Test Project.build/Other Configuration/Test Project.build/Objects/LinkFileList
+    FIXED_FILES_DIR = OBJROOT/Test Project.build/Other Configuration/Test Project.build/FixedFiles
+    FRAMEWORKS_FOLDER_PATH = Test Project.app/Contents/Frameworks
     FRAMEWORK_FLAG_PREFIX = -framework
     FRAMEWORK_VERSION = A
     FULL_PRODUCT_NAME = Test Project.app
@@ -149,7 +135,6 @@ Build settings for action build and target "Test Project":
     GCC_PFE_FILE_C_DIALECTS = c objective-c c++ objective-c++
     GCC_PREPROCESSOR_DEFINITIONS = DEBUG=1 
     GCC_SYMBOLS_PRIVATE_EXTERN = NO
-    GCC_THUMB_SUPPORT = YES
     GCC_TREAT_WARNINGS_AS_ERRORS = NO
     GCC_VERSION = com.apple.compilers.llvm.clang.1_0
     GCC_VERSION_IDENTIFIER = com_apple_compilers_llvm_clang_1_0
@@ -176,10 +161,10 @@ Build settings for action build and target "Test Project":
     ICONV = /usr/bin/iconv
     INFOPLIST_EXPAND_BUILD_SETTINGS = YES
     INFOPLIST_FILE = Test Project/Info.plist
-    INFOPLIST_OUTPUT_FORMAT = binary
-    INFOPLIST_PATH = Test Project.app/Info.plist
+    INFOPLIST_OUTPUT_FORMAT = same-as-input
+    INFOPLIST_PATH = Test Project.app/Contents/Info.plist
     INFOPLIST_PREPROCESS = NO
-    INFOSTRINGS_PATH = Test Project.app/English.lproj/InfoPlist.strings
+    INFOSTRINGS_PATH = Test Project.app/Contents/Resources/English.lproj/InfoPlist.strings
     INLINE_PRIVATE_FRAMEWORKS = NO
     INSTALLHDRS_COPY_PHASE = NO
     INSTALLHDRS_SCRIPT_PHASE = NO
@@ -189,13 +174,12 @@ Build settings for action build and target "Test Project":
     INSTALL_OWNER = VERSION_INFO_BUILDER
     INSTALL_PATH = /Applications
     INSTALL_ROOT = /tmp/Test Project.dst
-    IPHONEOS_DEPLOYMENT_TARGET = 10.2
     JAVAC_DEFAULT_FLAGS = -J-Xms64m -J-XX:NewSize=4M -J-Dfile.encoding=UTF8
     JAVA_APP_STUB = /System/Library/Frameworks/JavaVM.framework/Resources/MacOS/JavaApplicationStub
     JAVA_ARCHIVE_CLASSES = YES
     JAVA_ARCHIVE_TYPE = JAR
     JAVA_COMPILER = /usr/bin/javac
-    JAVA_FOLDER_PATH = Test Project.app/Java
+    JAVA_FOLDER_PATH = Test Project.app/Contents/Resources/Java
     JAVA_FRAMEWORK_RESOURCES_DIRS = Resources
     JAVA_JAR_FLAGS = cv
     JAVA_SOURCE_SUBDIR = .
@@ -203,9 +187,9 @@ Build settings for action build and target "Test Project":
     JAVA_ZIP_FLAGS = -urg
     JIKES_DEFAULT_FLAGS = +E +OLDCSO
     KEEP_PRIVATE_EXTERNS = NO
-    LD_DEPENDENCY_INFO_FILE = OBJROOT/Test Project.build/Other Configuration-iphoneos/Test Project.build/Objects-normal/armv7/Test Project_dependency_info.dat
+    LD_DEPENDENCY_INFO_FILE = OBJROOT/Test Project.build/Other Configuration/Test Project.build/Objects-normal/x86_64/Test Project_dependency_info.dat
     LD_GENERATE_MAP_FILE = NO
-    LD_MAP_FILE_PATH = OBJROOT/Test Project.build/Other Configuration-iphoneos/Test Project.build/Test Project-LinkMap-normal-armv7.txt
+    LD_MAP_FILE_PATH = OBJROOT/Test Project.build/Other Configuration/Test Project.build/Test Project-LinkMap-normal-x86_64.txt
     LD_NO_PIE = NO
     LD_QUOTE_LINKER_ARGUMENTS_FOR_COMPILER_DRIVER = YES
     LD_RUNPATH_SEARCH_PATHS =  @executable_path/Frameworks
@@ -215,10 +199,10 @@ Build settings for action build and target "Test Project":
     LIBRARY_FLAG_PREFIX = -l
     LIBRARY_KEXT_INSTALL_PATH = /Library/Extensions
     LINKER_DISPLAYS_MANGLED_NAMES = NO
-    LINK_FILE_LIST_normal_armv7 = 
+    LINK_FILE_LIST_normal_x86_64 = 
     LINK_WITH_STANDARD_LIBRARIES = YES
     LOCALIZABLE_CONTENT_DIR = 
-    LOCALIZED_RESOURCES_FOLDER_PATH = Test Project.app/English.lproj
+    LOCALIZED_RESOURCES_FOLDER_PATH = Test Project.app/Contents/Resources/English.lproj
     LOCAL_ADMIN_APPS_DIR = /Applications/Utilities
     LOCAL_APPS_DIR = /Applications
     LOCAL_DEVELOPER_DIR = /Library/Developer
@@ -226,21 +210,22 @@ Build settings for action build and target "Test Project":
     LOCROOT = 
     LOCSYMROOT = 
     MACH_O_TYPE = mh_execute
+    MACOSX_DEPLOYMENT_TARGET = 10.12
     MAC_OS_X_PRODUCT_BUILD_VERSION = MAC_OS_X_PRODUCT_BUILD_VERSION
     MAC_OS_X_VERSION_ACTUAL = MAC_OS_X_VERSION_ACTUAL
     MAC_OS_X_VERSION_MAJOR = MAC_OS_X_VERSION_MAJOR
     MAC_OS_X_VERSION_MINOR = MAC_OS_X_VERSION_MINOR
     METAL_LIBRARY_FILE_BASE = default
-    METAL_LIBRARY_OUTPUT_DIR = SYMROOT/Other Configuration-iphoneos/Test Project.app
+    METAL_LIBRARY_OUTPUT_DIR = SYMROOT/Other Configuration/Test Project.app/Contents/Resources
     MODULE_CACHE_DIR = MODULE_CACHE_DIR
     MTL_ENABLE_DEBUG_INFO = YES
-    NATIVE_ARCH = armv7
+    NATIVE_ARCH = i386
     NATIVE_ARCH_32_BIT = i386
     NATIVE_ARCH_64_BIT = x86_64
     NATIVE_ARCH_ACTUAL = x86_64
     NO_COMMON = YES
-    OBJECT_FILE_DIR = OBJROOT/Test Project.build/Other Configuration-iphoneos/Test Project.build/Objects
-    OBJECT_FILE_DIR_normal = OBJROOT/Test Project.build/Other Configuration-iphoneos/Test Project.build/Objects-normal
+    OBJECT_FILE_DIR = OBJROOT/Test Project.build/Other Configuration/Test Project.build/Objects
+    OBJECT_FILE_DIR_normal = OBJROOT/Test Project.build/Other Configuration/Test Project.build/Objects-normal
     OBJROOT = OBJROOT
     ONLY_ACTIVE_ARCH = YES
     OS = MACOS
@@ -249,27 +234,27 @@ Build settings for action build and target "Test Project":
     PASCAL_STRINGS = YES
     PATH = PATH
     PATH_PREFIXES_EXCLUDED_FROM_HEADER_DEPENDENCIES = /usr/include /usr/local/include /System/Library/Frameworks /System/Library/PrivateFrameworks DEVELOPER_DIR/Headers DEVELOPER_DIR/SDKs DEVELOPER_DIR/Platforms
-    PBDEVELOPMENTPLIST_PATH = Test Project.app/pbdevelopment.plist
+    PBDEVELOPMENTPLIST_PATH = Test Project.app/Contents/pbdevelopment.plist
     PFE_FILE_C_DIALECTS = objective-c
-    PKGINFO_FILE_PATH = OBJROOT/Test Project.build/Other Configuration-iphoneos/Test Project.build/PkgInfo
-    PKGINFO_PATH = Test Project.app/PkgInfo
-    PLATFORM_DEVELOPER_APPLICATIONS_DIR = DEVELOPER_DIR/Platforms/iPhoneOS.platform/Developer/Applications
-    PLATFORM_DEVELOPER_BIN_DIR = DEVELOPER_DIR/Platforms/iPhoneOS.platform/Developer/usr/bin
-    PLATFORM_DEVELOPER_LIBRARY_DIR = LEGACY_DEVELOPER_DIR/Library
-    PLATFORM_DEVELOPER_SDK_DIR = DEVELOPER_DIR/Platforms/iPhoneOS.platform/Developer/SDKs
-    PLATFORM_DEVELOPER_TOOLS_DIR = DEVELOPER_DIR/Platforms/iPhoneOS.platform/Developer/Tools
-    PLATFORM_DEVELOPER_USR_DIR = DEVELOPER_DIR/Platforms/iPhoneOS.platform/Developer/usr
-    PLATFORM_DIR = DEVELOPER_DIR/Platforms/iPhoneOS.platform
-    PLATFORM_DISPLAY_NAME = iOS
-    PLATFORM_NAME = iphoneos
-    PLATFORM_PREFERRED_ARCH = arm64
-    PLATFORM_PRODUCT_BUILD_VERSION = PLATFORM_PRODUCT_BUILD_VERSION
-    PLIST_FILE_OUTPUT_FORMAT = binary
-    PLUGINS_FOLDER_PATH = Test Project.app/PlugIns
+    PKGINFO_FILE_PATH = OBJROOT/Test Project.build/Other Configuration/Test Project.build/PkgInfo
+    PKGINFO_PATH = Test Project.app/Contents/PkgInfo
+    PLATFORM_DEVELOPER_APPLICATIONS_DIR = DEVELOPER_DIR/Applications
+    PLATFORM_DEVELOPER_BIN_DIR = DEVELOPER_DIR/usr/bin
+    PLATFORM_DEVELOPER_LIBRARY_DIR = DEVELOPER_DIR/Library
+    PLATFORM_DEVELOPER_SDK_DIR = DEVELOPER_DIR/Platforms/MacOSX.platform/Developer/SDKs
+    PLATFORM_DEVELOPER_TOOLS_DIR = DEVELOPER_DIR/Tools
+    PLATFORM_DEVELOPER_USR_DIR = DEVELOPER_DIR/usr
+    PLATFORM_DIR = DEVELOPER_DIR/Platforms/MacOSX.platform
+    PLATFORM_DISPLAY_NAME = macOS
+    PLATFORM_NAME = macosx
+    PLATFORM_PREFERRED_ARCH = x86_64
+    XCODE_PRODUCT_BUILD_VERSION = XCODE_PRODUCT_BUILD_VERSION
+    PLIST_FILE_OUTPUT_FORMAT = same-as-input
+    PLUGINS_FOLDER_PATH = Test Project.app/Contents/PlugIns
     PRECOMPS_INCLUDE_HEADERS_FROM_BUILT_PRODUCTS_DIR = YES
-    PRECOMP_DESTINATION_DIR = OBJROOT/Test Project.build/Other Configuration-iphoneos/Test Project.build/PrefixHeaders
+    PRECOMP_DESTINATION_DIR = OBJROOT/Test Project.build/Other Configuration/Test Project.build/PrefixHeaders
     PRESERVE_DEAD_CODE_INITS_AND_TERMS = NO
-    PRIVATE_HEADERS_FOLDER_PATH = Test Project.app/PrivateHeaders
+    PRIVATE_HEADERS_FOLDER_PATH = Test Project.app/Contents/PrivateHeaders
     PRODUCT_BUNDLE_IDENTIFIER = com.tworingsoft.Test-Project
     PRODUCT_MODULE_NAME = Test_Project
     PRODUCT_NAME = Test Project
@@ -283,50 +268,48 @@ Build settings for action build and target "Test Project":
     PROJECT_NAME = Test Project
     PROJECT_TEMP_DIR = OBJROOT/Test Project.build
     PROJECT_TEMP_ROOT = OBJROOT
-    PROVISIONING_PROFILE_REQUIRED = YES
-    PUBLIC_HEADERS_FOLDER_PATH = Test Project.app/Headers
+    PUBLIC_HEADERS_FOLDER_PATH = Test Project.app/Contents/Headers
     RECURSIVE_SEARCH_PATHS_FOLLOW_SYMLINKS = YES
     REMOVE_CVS_FROM_RESOURCES = YES
     REMOVE_GIT_FROM_RESOURCES = YES
     REMOVE_HEADERS_FROM_EMBEDDED_BUNDLES = YES
     REMOVE_HG_FROM_RESOURCES = YES
     REMOVE_SVN_FROM_RESOURCES = YES
-    RESOURCE_RULES_REQUIRED = YES
-    REZ_COLLECTOR_DIR = OBJROOT/Test Project.build/Other Configuration-iphoneos/Test Project.build/ResourceManagerResources
-    REZ_OBJECTS_DIR = OBJROOT/Test Project.build/Other Configuration-iphoneos/Test Project.build/ResourceManagerResources/Objects
+    REZ_COLLECTOR_DIR = OBJROOT/Test Project.build/Other Configuration/Test Project.build/ResourceManagerResources
+    REZ_OBJECTS_DIR = OBJROOT/Test Project.build/Other Configuration/Test Project.build/ResourceManagerResources/Objects
     SCAN_ALL_SOURCE_FILES_FOR_INCLUDES = NO
-    SCRIPTS_FOLDER_PATH = Test Project.app/Scripts
-    SDKROOT = DEVELOPER_DIR/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS10.2.sdk
-    SDK_DIR = DEVELOPER_DIR/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS10.2.sdk
-    SDK_DIR_iphoneos10_2 = DEVELOPER_DIR/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS10.2.sdk
-    SDK_NAME = iphoneos10.2
-    SDK_NAMES = iphoneos10.2
-    SDK_PRODUCT_BUILD_VERSION = PLATFORM_PRODUCT_BUILD_VERSION
-    SDK_VERSION = 10.2
-    SDK_VERSION_ACTUAL = SDK_VERSION_ACTUAL
+    SCRIPTS_FOLDER_PATH = Test Project.app/Contents/Resources/Scripts
+    SDKROOT = DEVELOPER_DIR/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.12.sdk
+    SDK_DIR = DEVELOPER_DIR/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.12.sdk
+    SDK_DIR_macosx10_12 = DEVELOPER_DIR/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.12.sdk
+    SDK_NAME = macosx10.12
+    SDK_NAMES = macosx10.12
+    SDK_PRODUCT_BUILD_VERSION = 16C58
+    SDK_VERSION = 10.12
+    SDK_VERSION_MAJOR = SDK_VERSION_MAJOR
     SDK_VERSION_MAJOR = SDK_VERSION_MAJOR
-    SDK_VERSION_MINOR = 200
+    SDK_VERSION_MINOR = 1200
     SED = /usr/bin/sed
     SEPARATE_STRIP = NO
     SEPARATE_SYMBOL_EDIT = NO
     SET_DIR_MODE_OWNER_GROUP = YES
     SET_FILE_MODE_OWNER_GROUP = NO
-    SHALLOW_BUNDLE = YES
-    SHARED_DERIVED_FILE_DIR = SYMROOT/Other Configuration-iphoneos/DerivedSources
-    SHARED_FRAMEWORKS_FOLDER_PATH = Test Project.app/SharedFrameworks
+    SHALLOW_BUNDLE = NO
+    SHARED_DERIVED_FILE_DIR = SYMROOT/Other Configuration/DerivedSources
+    SHARED_FRAMEWORKS_FOLDER_PATH = Test Project.app/Contents/SharedFrameworks
     SHARED_PRECOMPS_DIR = OBJROOT/PrecompiledHeaders
-    SHARED_SUPPORT_FOLDER_PATH = Test Project.app/SharedSupport
+    SHARED_SUPPORT_FOLDER_PATH = Test Project.app/Contents/SharedSupport
     SKIP_INSTALL = NO
     SOURCE_ROOT = SRCROOT
     SRCROOT = SRCROOT
-    STRINGS_FILE_OUTPUT_ENCODING = binary
-    STRIP_BITCODE_FROM_COPIED_FILES = YES
+    STRINGS_FILE_OUTPUT_ENCODING = UTF-16
+    STRIP_BITCODE_FROM_COPIED_FILES = NO
     STRIP_INSTALLED_PRODUCT = YES
+    STRIP_PNG_TEXT = NO
     STRIP_STYLE = all
-    SUPPORTED_DEVICE_FAMILIES = 1,2
-    SUPPORTED_PLATFORMS = iphonesimulator iphoneos
+    SUPPORTED_PLATFORMS = macosx
     SUPPORTS_TEXT_BASED_API = NO
-    SWIFT_PLATFORM_TARGET_PREFIX = ios
+    SWIFT_PLATFORM_TARGET_PREFIX = macosx
     SYMROOT = SYMROOT
     SYSTEM_ADMIN_APPS_DIR = /Applications/Utilities
     SYSTEM_APPS_DIR = /Applications
@@ -352,17 +335,17 @@ Build settings for action build and target "Test Project":
     TAPI_VERIFY_MODE = ErrorsOnly
     TARGETED_DEVICE_FAMILY = 1,2
     TARGETNAME = Test Project
-    TARGET_BUILD_DIR = SYMROOT/Other Configuration-iphoneos
+    TARGET_BUILD_DIR = SYMROOT/Other Configuration
     TARGET_NAME = Test Project
-    TARGET_TEMP_DIR = OBJROOT/Test Project.build/Other Configuration-iphoneos/Test Project.build
-    TEMP_DIR = OBJROOT/Test Project.build/Other Configuration-iphoneos/Test Project.build
-    TEMP_FILES_DIR = OBJROOT/Test Project.build/Other Configuration-iphoneos/Test Project.build
-    TEMP_FILE_DIR = OBJROOT/Test Project.build/Other Configuration-iphoneos/Test Project.build
+    TARGET_TEMP_DIR = OBJROOT/Test Project.build/Other Configuration/Test Project.build
+    TEMP_DIR = OBJROOT/Test Project.build/Other Configuration/Test Project.build
+    TEMP_FILES_DIR = OBJROOT/Test Project.build/Other Configuration/Test Project.build
+    TEMP_FILE_DIR = OBJROOT/Test Project.build/Other Configuration/Test Project.build
     TEMP_ROOT = OBJROOT
     TOOLCHAIN_DIR = DEVELOPER_DIR/Toolchains/XcodeDefault.xctoolchain
     TREAT_MISSING_BASELINES_AS_TEST_FAILURES = NO
     UID = 501
-    UNLOCALIZED_RESOURCES_FOLDER_PATH = Test Project.app
+    UNLOCALIZED_RESOURCES_FOLDER_PATH = Test Project.app/Contents/Resources
     UNSTRIPPED_PRODUCT = NO
     USER = VERSION_INFO_BUILDER
     USER_APPS_DIR = USER_APPS_DIR
@@ -371,9 +354,9 @@ Build settings for action build and target "Test Project":
     USE_HEADERMAP = YES
     USE_HEADER_SYMLINKS = NO
     VALIDATE_PRODUCT = NO
-    VALID_ARCHS = arm64 armv7 armv7s
+    VALID_ARCHS = i386 x86_64
     VERBOSE_PBXCP = NO
-    VERSIONPLIST_PATH = Test Project.app/version.plist
+    VERSIONPLIST_PATH = Test Project.app/Contents/version.plist
     VERSION_INFO_BUILDER = VERSION_INFO_BUILDER
     VERSION_INFO_FILE = Test Project_vers.c
     VERSION_INFO_STRING = "@(#)PROGRAM:Test Project  PROJECT:Test Project-"
@@ -386,8 +369,8 @@ Build settings for action build and target "Test Project":
     XCODE_VERSION_ACTUAL = XCODE_VERSION_ACTUAL
     XCODE_VERSION_MAJOR = XCODE_VERSION_MAJOR
     XCODE_VERSION_MINOR = XCODE_VERSION_MINOR
-    XPCSERVICES_FOLDER_PATH = Test Project.app/XPCServices
+    XPCSERVICES_FOLDER_PATH = Test Project.app/Contents/XPCServices
     YACC = yacc
-    arch = armv7
+    arch = x86_64
     variant = normal
 
diff --git a/test/Test Project/.xcbs/Release/Test Project.build-settings.lock b/test/Test Project/.xcbs/Release/Test Project.build-settings.lock
index b4b199f..b489eff 100644
--- a/test/Test Project/.xcbs/Release/Test Project.build-settings.lock	
+++ b/test/Test Project/.xcbs/Release/Test Project.build-settings.lock	
@@ -1,6 +1,5 @@
 Build settings for action build and target "Test Project":
     ACTION = build
-    AD_HOC_CODE_SIGNING_ALLOWED = NO
     ALTERNATE_GROUP = staff
     ALTERNATE_MODE = u+w,go-w,a+rX
     ALTERNATE_OWNER = VERSION_INFO_BUILDER
@@ -14,13 +13,12 @@ Build settings for action build and target "Test Project":
     APPLE_INTERNAL_TOOLS = /AppleInternal/Developer/Tools
     APPLICATION_EXTENSION_API_ONLY = NO
     APPLY_RULES_IN_COPY_FILES = NO
-    ARCHS = armv7 arm64
-    ARCHS_STANDARD = armv7 arm64
-    ARCHS_STANDARD_32_64_BIT = armv7 arm64
-    ARCHS_STANDARD_32_BIT = armv7
-    ARCHS_STANDARD_64_BIT = arm64
-    ARCHS_STANDARD_INCLUDING_64_BIT = armv7 arm64
-    ARCHS_UNIVERSAL_IPHONE_OS = armv7 arm64
+    ARCHS = x86_64
+    ARCHS_STANDARD = x86_64
+    ARCHS_STANDARD_32_64_BIT = x86_64 i386
+    ARCHS_STANDARD_32_BIT = i386
+    ARCHS_STANDARD_64_BIT = x86_64
+    ARCHS_STANDARD_INCLUDING_64_BIT = x86_64
     ASSETCATALOG_COMPILER_APPICON_NAME = AppIcon
     AVAILABLE_PLATFORMS = appletvos appletvsimulator iphoneos iphonesimulator macosx watchos watchsimulator
     BITCODE_GENERATION_MODE = marker
@@ -30,7 +28,7 @@ Build settings for action build and target "Test Project":
     BUILD_ROOT = SYMROOT
     BUILD_STYLE = 
     BUILD_VARIANTS = normal
-    BUILT_PRODUCTS_DIR = SYMROOT/Release-iphoneos
+    BUILT_PRODUCTS_DIR = SYMROOT/Release
     CACHE_ROOT = CCHROOT
     CCHROOT = CCHROOT
     CHMOD = /bin/chmod
@@ -52,50 +50,41 @@ Build settings for action build and target "Test Project":
     CLANG_WARN_SUSPICIOUS_MOVE = YES
     CLANG_WARN_UNREACHABLE_CODE = YES
     CLANG_WARN__DUPLICATE_METHOD_MATCH = YES
-    CLASS_FILE_DIR = OBJROOT/Test Project.build/Release-iphoneos/Test Project.build/JavaClasses
+    CLASS_FILE_DIR = OBJROOT/Test Project.build/Release/Test Project.build/JavaClasses
     CLEAN_PRECOMPS = YES
     CLONE_HEADERS = NO
-    CODESIGNING_FOLDER_PATH = SYMROOT/Release-iphoneos/Test Project.app
+    CODESIGNING_FOLDER_PATH = SYMROOT/Release/Test Project.app
     CODE_SIGNING_ALLOWED = YES
-    CODE_SIGNING_REQUIRED = YES
-    CODE_SIGN_CONTEXT_CLASS = XCiPhoneOSCodeSignContext
-    CODE_SIGN_IDENTITY = iPhone Developer
     COLOR_DIAGNOSTICS = NO
     COMBINE_HIDPI_IMAGES = NO
     COMPOSITE_SDK_DIRS = OBJROOT/CompositeSDKs
-    COMPRESS_PNG_FILES = YES
+    COMPRESS_PNG_FILES = NO
     CONFIGURATION = Release
-    CONFIGURATION_BUILD_DIR = SYMROOT/Release-iphoneos
-    CONFIGURATION_TEMP_DIR = OBJROOT/Test Project.build/Release-iphoneos
-    CONTENTS_FOLDER_PATH = Test Project.app
+    CONFIGURATION_BUILD_DIR = SYMROOT/Release
+    CONFIGURATION_TEMP_DIR = OBJROOT/Test Project.build/Release
+    CONTENTS_FOLDER_PATH = Test Project.app/Contents
     COPYING_PRESERVES_HFS_DATA = NO
     COPY_HEADERS_RUN_UNIFDEF = NO
     COPY_PHASE_STRIP = NO
     COPY_RESOURCES_FROM_STATIC_FRAMEWORKS = YES
-    CORRESPONDING_SIMULATOR_PLATFORM_DIR = DEVELOPER_DIR/Platforms/iPhoneSimulator.platform
-    CORRESPONDING_SIMULATOR_PLATFORM_NAME = iphonesimulator
-    CORRESPONDING_SIMULATOR_SDK_DIR = DEVELOPER_DIR/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator10.2.sdk
-    CORRESPONDING_SIMULATOR_SDK_NAME = iphonesimulator10.2
     CP = /bin/cp
     CREATE_INFOPLIST_SECTION_IN_BINARY = NO
-    CURRENT_ARCH = arm64
+    CURRENT_ARCH = x86_64
     CURRENT_VARIANT = normal
-    DEAD_CODE_STRIPPING = YES
+    DEAD_CODE_STRIPPING = NO
     DEBUGGING_SYMBOLS = YES
     DEBUG_INFORMATION_FORMAT = dwarf-with-dsym
     DEFAULT_COMPILER = com.apple.compilers.llvm.clang.1_0
-    DEFAULT_KEXT_INSTALL_PATH = /System/Library/Extensions
+    DEFAULT_KEXT_INSTALL_PATH = /Library/Extensions
     DEFINES_MODULE = NO
     DEPLOYMENT_LOCATION = NO
     DEPLOYMENT_POSTPROCESSING = NO
-    DEPLOYMENT_TARGET_CLANG_ENV_NAME = IPHONEOS_DEPLOYMENT_TARGET
-    DEPLOYMENT_TARGET_CLANG_FLAG_NAME = miphoneos-version-min
-    DEPLOYMENT_TARGET_CLANG_FLAG_PREFIX = -miphoneos-version-min=
-    DEPLOYMENT_TARGET_SETTING_NAME = IPHONEOS_DEPLOYMENT_TARGET
-    DEPLOYMENT_TARGET_SUGGESTED_VALUES = 8.0 8.1 8.2 8.3 8.4 9.0 9.1 9.2 9.3 10.0 10.1 10.2
-    DERIVED_FILES_DIR = OBJROOT/Test Project.build/Release-iphoneos/Test Project.build/DerivedSources
-    DERIVED_FILE_DIR = OBJROOT/Test Project.build/Release-iphoneos/Test Project.build/DerivedSources
-    DERIVED_SOURCES_DIR = OBJROOT/Test Project.build/Release-iphoneos/Test Project.build/DerivedSources
+    DEPLOYMENT_TARGET_CLANG_ENV_NAME = MACOSX_DEPLOYMENT_TARGET
+    DEPLOYMENT_TARGET_CLANG_FLAG_NAME = mmacosx-version-min
+    DEPLOYMENT_TARGET_SETTING_NAME = MACOSX_DEPLOYMENT_TARGET
+    DERIVED_FILES_DIR = OBJROOT/Test Project.build/Release/Test Project.build/DerivedSources
+    DERIVED_FILE_DIR = OBJROOT/Test Project.build/Release/Test Project.build/DerivedSources
+    DERIVED_SOURCES_DIR = OBJROOT/Test Project.build/Release/Test Project.build/DerivedSources
     DEVELOPER_APPLICATIONS_DIR = DEVELOPER_DIR/Applications
     DEVELOPER_BIN_DIR = DEVELOPER_DIR/usr/bin
     DEVELOPER_DIR = DEVELOPER_DIR
@@ -106,48 +95,45 @@ Build settings for action build and target "Test Project":
     DEVELOPER_TOOLS_DIR = DEVELOPER_DIR/Tools
     DEVELOPER_USR_DIR = DEVELOPER_DIR/usr
     DEVELOPMENT_LANGUAGE = English
-    DOCUMENTATION_FOLDER_PATH = Test Project.app/English.lproj/Documentation
+    DOCUMENTATION_FOLDER_PATH = Test Project.app/Contents/Resources/English.lproj/Documentation
     DO_HEADER_SCANNING_IN_JAM = NO
     DSTROOT = /tmp/Test Project.dst
     DT_TOOLCHAIN_DIR = DEVELOPER_DIR/Toolchains/XcodeDefault.xctoolchain
     DWARF_DSYM_FILE_NAME = Test Project.app.dSYM
     DWARF_DSYM_FILE_SHOULD_ACCOMPANY_PRODUCT = NO
-    DWARF_DSYM_FOLDER_PATH = SYMROOT/Release-iphoneos
-    EFFECTIVE_PLATFORM_NAME = -iphoneos
+    DWARF_DSYM_FOLDER_PATH = SYMROOT/Release
     EMBEDDED_CONTENT_CONTAINS_SWIFT = NO
-    EMBEDDED_PROFILE_NAME = embedded.mobileprovision
+    EMBEDDED_PROFILE_NAME = embedded.provisionprofile
     EMBED_ASSET_PACKS_IN_PRODUCT_BUNDLE = NO
-    ENABLE_BITCODE = YES
+    ENABLE_BITCODE = NO
     ENABLE_DEFAULT_HEADER_SEARCH_PATHS = YES
     ENABLE_HEADER_DEPENDENCIES = YES
     ENABLE_NS_ASSERTIONS = NO
-    ENABLE_ON_DEMAND_RESOURCES = YES
+    ENABLE_ON_DEMAND_RESOURCES = NO
     ENABLE_STRICT_OBJC_MSGSEND = YES
     ENABLE_TESTABILITY = NO
-    ENTITLEMENTS_ALLOWED = YES
-    ENTITLEMENTS_REQUIRED = YES
     EXCLUDED_INSTALLSRC_SUBDIRECTORY_PATTERNS = .DS_Store .svn .git .hg CVS
     EXCLUDED_RECURSIVE_SEARCH_PATH_SUBDIRECTORIES = *.nib *.lproj *.framework *.gch *.xcode* *.xcassets (*) .DS_Store CVS .svn .git .hg *.pbproj *.pbxproj
-    EXECUTABLES_FOLDER_PATH = Test Project.app/Executables
-    EXECUTABLE_FOLDER_PATH = Test Project.app
+    EXECUTABLES_FOLDER_PATH = Test Project.app/Contents/Executables
+    EXECUTABLE_FOLDER_PATH = Test Project.app/Contents/MacOS
     EXECUTABLE_NAME = Test Project
-    EXECUTABLE_PATH = Test Project.app/Test Project
+    EXECUTABLE_PATH = Test Project.app/Contents/MacOS/Test Project
     EXPANDED_CODE_SIGN_IDENTITY = 
     EXPANDED_CODE_SIGN_IDENTITY_NAME = 
     EXPANDED_PROVISIONING_PROFILE = 
-    FILE_LIST = OBJROOT/Test Project.build/Release-iphoneos/Test Project.build/Objects/LinkFileList
-    FIXED_FILES_DIR = OBJROOT/Test Project.build/Release-iphoneos/Test Project.build/FixedFiles
-    FRAMEWORKS_FOLDER_PATH = Test Project.app/Frameworks
+    FILE_LIST = OBJROOT/Test Project.build/Release/Test Project.build/Objects/LinkFileList
+    FIXED_FILES_DIR = OBJROOT/Test Project.build/Release/Test Project.build/FixedFiles
+    FRAMEWORKS_FOLDER_PATH = Test Project.app/Contents/Frameworks
     FRAMEWORK_FLAG_PREFIX = -framework
     FRAMEWORK_VERSION = A
     FULL_PRODUCT_NAME = Test Project.app
     GCC3_VERSION = 3.3
     GCC_C_LANGUAGE_STANDARD = gnu99
+    GCC_DYNAMIC_NO_PIC = NO
     GCC_INLINES_ARE_PRIVATE_EXTERN = YES
     GCC_NO_COMMON_BLOCKS = YES
     GCC_PFE_FILE_C_DIALECTS = c objective-c c++ objective-c++
     GCC_SYMBOLS_PRIVATE_EXTERN = YES
-    GCC_THUMB_SUPPORT = YES
     GCC_TREAT_WARNINGS_AS_ERRORS = NO
     GCC_VERSION = com.apple.compilers.llvm.clang.1_0
     GCC_VERSION_IDENTIFIER = com_apple_compilers_llvm_clang_1_0
@@ -174,10 +160,10 @@ Build settings for action build and target "Test Project":
     ICONV = /usr/bin/iconv
     INFOPLIST_EXPAND_BUILD_SETTINGS = YES
     INFOPLIST_FILE = Test Project/Info.plist
-    INFOPLIST_OUTPUT_FORMAT = binary
-    INFOPLIST_PATH = Test Project.app/Info.plist
+    INFOPLIST_OUTPUT_FORMAT = same-as-input
+    INFOPLIST_PATH = Test Project.app/Contents/Info.plist
     INFOPLIST_PREPROCESS = NO
-    INFOSTRINGS_PATH = Test Project.app/English.lproj/InfoPlist.strings
+    INFOSTRINGS_PATH = Test Project.app/Contents/Resources/English.lproj/InfoPlist.strings
     INLINE_PRIVATE_FRAMEWORKS = NO
     INSTALLHDRS_COPY_PHASE = NO
     INSTALLHDRS_SCRIPT_PHASE = NO
@@ -187,13 +173,12 @@ Build settings for action build and target "Test Project":
     INSTALL_OWNER = VERSION_INFO_BUILDER
     INSTALL_PATH = /Applications
     INSTALL_ROOT = /tmp/Test Project.dst
-    IPHONEOS_DEPLOYMENT_TARGET = 10.2
     JAVAC_DEFAULT_FLAGS = -J-Xms64m -J-XX:NewSize=4M -J-Dfile.encoding=UTF8
     JAVA_APP_STUB = /System/Library/Frameworks/JavaVM.framework/Resources/MacOS/JavaApplicationStub
     JAVA_ARCHIVE_CLASSES = YES
     JAVA_ARCHIVE_TYPE = JAR
     JAVA_COMPILER = /usr/bin/javac
-    JAVA_FOLDER_PATH = Test Project.app/Java
+    JAVA_FOLDER_PATH = Test Project.app/Contents/Resources/Java
     JAVA_FRAMEWORK_RESOURCES_DIRS = Resources
     JAVA_JAR_FLAGS = cv
     JAVA_SOURCE_SUBDIR = .
@@ -201,9 +186,9 @@ Build settings for action build and target "Test Project":
     JAVA_ZIP_FLAGS = -urg
     JIKES_DEFAULT_FLAGS = +E +OLDCSO
     KEEP_PRIVATE_EXTERNS = NO
-    LD_DEPENDENCY_INFO_FILE = OBJROOT/Test Project.build/Release-iphoneos/Test Project.build/Objects-normal/arm64/Test Project_dependency_info.dat
+    LD_DEPENDENCY_INFO_FILE = OBJROOT/Test Project.build/Release/Test Project.build/Objects-normal/x86_64/Test Project_dependency_info.dat
     LD_GENERATE_MAP_FILE = NO
-    LD_MAP_FILE_PATH = OBJROOT/Test Project.build/Release-iphoneos/Test Project.build/Test Project-LinkMap-normal-arm64.txt
+    LD_MAP_FILE_PATH = OBJROOT/Test Project.build/Release/Test Project.build/Test Project-LinkMap-normal-x86_64.txt
     LD_NO_PIE = NO
     LD_QUOTE_LINKER_ARGUMENTS_FOR_COMPILER_DRIVER = YES
     LD_RUNPATH_SEARCH_PATHS =  @executable_path/Frameworks
@@ -213,11 +198,10 @@ Build settings for action build and target "Test Project":
     LIBRARY_FLAG_PREFIX = -l
     LIBRARY_KEXT_INSTALL_PATH = /Library/Extensions
     LINKER_DISPLAYS_MANGLED_NAMES = NO
-    LINK_FILE_LIST_normal_arm64 = 
-    LINK_FILE_LIST_normal_armv7 = 
+    LINK_FILE_LIST_normal_x86_64 = 
     LINK_WITH_STANDARD_LIBRARIES = YES
     LOCALIZABLE_CONTENT_DIR = 
-    LOCALIZED_RESOURCES_FOLDER_PATH = Test Project.app/English.lproj
+    LOCALIZED_RESOURCES_FOLDER_PATH = Test Project.app/Contents/Resources/English.lproj
     LOCAL_ADMIN_APPS_DIR = /Applications/Utilities
     LOCAL_APPS_DIR = /Applications
     LOCAL_DEVELOPER_DIR = /Library/Developer
@@ -225,21 +209,22 @@ Build settings for action build and target "Test Project":
     LOCROOT = 
     LOCSYMROOT = 
     MACH_O_TYPE = mh_execute
+    MACOSX_DEPLOYMENT_TARGET = 10.12
     MAC_OS_X_PRODUCT_BUILD_VERSION = MAC_OS_X_PRODUCT_BUILD_VERSION
     MAC_OS_X_VERSION_ACTUAL = MAC_OS_X_VERSION_ACTUAL
     MAC_OS_X_VERSION_MAJOR = MAC_OS_X_VERSION_MAJOR
     MAC_OS_X_VERSION_MINOR = MAC_OS_X_VERSION_MINOR
     METAL_LIBRARY_FILE_BASE = default
-    METAL_LIBRARY_OUTPUT_DIR = SYMROOT/Release-iphoneos/Test Project.app
+    METAL_LIBRARY_OUTPUT_DIR = SYMROOT/Release/Test Project.app/Contents/Resources
     MODULE_CACHE_DIR = MODULE_CACHE_DIR
     MTL_ENABLE_DEBUG_INFO = NO
-    NATIVE_ARCH = armv7
+    NATIVE_ARCH = i386
     NATIVE_ARCH_32_BIT = i386
     NATIVE_ARCH_64_BIT = x86_64
     NATIVE_ARCH_ACTUAL = x86_64
     NO_COMMON = YES
-    OBJECT_FILE_DIR = OBJROOT/Test Project.build/Release-iphoneos/Test Project.build/Objects
-    OBJECT_FILE_DIR_normal = OBJROOT/Test Project.build/Release-iphoneos/Test Project.build/Objects-normal
+    OBJECT_FILE_DIR = OBJROOT/Test Project.build/Release/Test Project.build/Objects
+    OBJECT_FILE_DIR_normal = OBJROOT/Test Project.build/Release/Test Project.build/Objects-normal
     OBJROOT = OBJROOT
     ONLY_ACTIVE_ARCH = NO
     OS = MACOS
@@ -248,27 +233,27 @@ Build settings for action build and target "Test Project":
     PASCAL_STRINGS = YES
     PATH = PATH
     PATH_PREFIXES_EXCLUDED_FROM_HEADER_DEPENDENCIES = /usr/include /usr/local/include /System/Library/Frameworks /System/Library/PrivateFrameworks DEVELOPER_DIR/Headers DEVELOPER_DIR/SDKs DEVELOPER_DIR/Platforms
-    PBDEVELOPMENTPLIST_PATH = Test Project.app/pbdevelopment.plist
+    PBDEVELOPMENTPLIST_PATH = Test Project.app/Contents/pbdevelopment.plist
     PFE_FILE_C_DIALECTS = objective-c
-    PKGINFO_FILE_PATH = OBJROOT/Test Project.build/Release-iphoneos/Test Project.build/PkgInfo
-    PKGINFO_PATH = Test Project.app/PkgInfo
-    PLATFORM_DEVELOPER_APPLICATIONS_DIR = DEVELOPER_DIR/Platforms/iPhoneOS.platform/Developer/Applications
-    PLATFORM_DEVELOPER_BIN_DIR = DEVELOPER_DIR/Platforms/iPhoneOS.platform/Developer/usr/bin
-    PLATFORM_DEVELOPER_LIBRARY_DIR = LEGACY_DEVELOPER_DIR/Library
-    PLATFORM_DEVELOPER_SDK_DIR = DEVELOPER_DIR/Platforms/iPhoneOS.platform/Developer/SDKs
-    PLATFORM_DEVELOPER_TOOLS_DIR = DEVELOPER_DIR/Platforms/iPhoneOS.platform/Developer/Tools
-    PLATFORM_DEVELOPER_USR_DIR = DEVELOPER_DIR/Platforms/iPhoneOS.platform/Developer/usr
-    PLATFORM_DIR = DEVELOPER_DIR/Platforms/iPhoneOS.platform
-    PLATFORM_DISPLAY_NAME = iOS
-    PLATFORM_NAME = iphoneos
-    PLATFORM_PREFERRED_ARCH = arm64
-    PLATFORM_PRODUCT_BUILD_VERSION = PLATFORM_PRODUCT_BUILD_VERSION
-    PLIST_FILE_OUTPUT_FORMAT = binary
-    PLUGINS_FOLDER_PATH = Test Project.app/PlugIns
+    PKGINFO_FILE_PATH = OBJROOT/Test Project.build/Release/Test Project.build/PkgInfo
+    PKGINFO_PATH = Test Project.app/Contents/PkgInfo
+    PLATFORM_DEVELOPER_APPLICATIONS_DIR = DEVELOPER_DIR/Applications
+    PLATFORM_DEVELOPER_BIN_DIR = DEVELOPER_DIR/usr/bin
+    PLATFORM_DEVELOPER_LIBRARY_DIR = DEVELOPER_DIR/Library
+    PLATFORM_DEVELOPER_SDK_DIR = DEVELOPER_DIR/Platforms/MacOSX.platform/Developer/SDKs
+    PLATFORM_DEVELOPER_TOOLS_DIR = DEVELOPER_DIR/Tools
+    PLATFORM_DEVELOPER_USR_DIR = DEVELOPER_DIR/usr
+    PLATFORM_DIR = DEVELOPER_DIR/Platforms/MacOSX.platform
+    PLATFORM_DISPLAY_NAME = macOS
+    PLATFORM_NAME = macosx
+    PLATFORM_PREFERRED_ARCH = x86_64
+    XCODE_PRODUCT_BUILD_VERSION = XCODE_PRODUCT_BUILD_VERSION
+    PLIST_FILE_OUTPUT_FORMAT = same-as-input
+    PLUGINS_FOLDER_PATH = Test Project.app/Contents/PlugIns
     PRECOMPS_INCLUDE_HEADERS_FROM_BUILT_PRODUCTS_DIR = YES
-    PRECOMP_DESTINATION_DIR = OBJROOT/Test Project.build/Release-iphoneos/Test Project.build/PrefixHeaders
+    PRECOMP_DESTINATION_DIR = OBJROOT/Test Project.build/Release/Test Project.build/PrefixHeaders
     PRESERVE_DEAD_CODE_INITS_AND_TERMS = NO
-    PRIVATE_HEADERS_FOLDER_PATH = Test Project.app/PrivateHeaders
+    PRIVATE_HEADERS_FOLDER_PATH = Test Project.app/Contents/PrivateHeaders
     PRODUCT_BUNDLE_IDENTIFIER = com.tworingsoft.Test-Project
     PRODUCT_MODULE_NAME = Test_Project
     PRODUCT_NAME = Test Project
@@ -282,50 +267,48 @@ Build settings for action build and target "Test Project":
     PROJECT_NAME = Test Project
     PROJECT_TEMP_DIR = OBJROOT/Test Project.build
     PROJECT_TEMP_ROOT = OBJROOT
-    PROVISIONING_PROFILE_REQUIRED = YES
-    PUBLIC_HEADERS_FOLDER_PATH = Test Project.app/Headers
+    PUBLIC_HEADERS_FOLDER_PATH = Test Project.app/Contents/Headers
     RECURSIVE_SEARCH_PATHS_FOLLOW_SYMLINKS = YES
     REMOVE_CVS_FROM_RESOURCES = YES
     REMOVE_GIT_FROM_RESOURCES = YES
     REMOVE_HEADERS_FROM_EMBEDDED_BUNDLES = YES
     REMOVE_HG_FROM_RESOURCES = YES
     REMOVE_SVN_FROM_RESOURCES = YES
-    RESOURCE_RULES_REQUIRED = YES
-    REZ_COLLECTOR_DIR = OBJROOT/Test Project.build/Release-iphoneos/Test Project.build/ResourceManagerResources
-    REZ_OBJECTS_DIR = OBJROOT/Test Project.build/Release-iphoneos/Test Project.build/ResourceManagerResources/Objects
+    REZ_COLLECTOR_DIR = OBJROOT/Test Project.build/Release/Test Project.build/ResourceManagerResources
+    REZ_OBJECTS_DIR = OBJROOT/Test Project.build/Release/Test Project.build/ResourceManagerResources/Objects
     SCAN_ALL_SOURCE_FILES_FOR_INCLUDES = NO
-    SCRIPTS_FOLDER_PATH = Test Project.app/Scripts
-    SDKROOT = DEVELOPER_DIR/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS10.2.sdk
-    SDK_DIR = DEVELOPER_DIR/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS10.2.sdk
-    SDK_DIR_iphoneos10_2 = DEVELOPER_DIR/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS10.2.sdk
-    SDK_NAME = iphoneos10.2
-    SDK_NAMES = iphoneos10.2
-    SDK_PRODUCT_BUILD_VERSION = PLATFORM_PRODUCT_BUILD_VERSION
-    SDK_VERSION = 10.2
-    SDK_VERSION_ACTUAL = SDK_VERSION_ACTUAL
+    SCRIPTS_FOLDER_PATH = Test Project.app/Contents/Resources/Scripts
+    SDKROOT = DEVELOPER_DIR/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.12.sdk
+    SDK_DIR = DEVELOPER_DIR/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.12.sdk
+    SDK_DIR_macosx10_12 = DEVELOPER_DIR/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.12.sdk
+    SDK_NAME = macosx10.12
+    SDK_NAMES = macosx10.12
+    SDK_PRODUCT_BUILD_VERSION = 16C58
+    SDK_VERSION = 10.12
+    SDK_VERSION_MAJOR = SDK_VERSION_MAJOR
     SDK_VERSION_MAJOR = SDK_VERSION_MAJOR
-    SDK_VERSION_MINOR = 200
+    SDK_VERSION_MINOR = 1200
     SED = /usr/bin/sed
     SEPARATE_STRIP = NO
     SEPARATE_SYMBOL_EDIT = NO
     SET_DIR_MODE_OWNER_GROUP = YES
     SET_FILE_MODE_OWNER_GROUP = NO
-    SHALLOW_BUNDLE = YES
-    SHARED_DERIVED_FILE_DIR = SYMROOT/Release-iphoneos/DerivedSources
-    SHARED_FRAMEWORKS_FOLDER_PATH = Test Project.app/SharedFrameworks
+    SHALLOW_BUNDLE = NO
+    SHARED_DERIVED_FILE_DIR = SYMROOT/Release/DerivedSources
+    SHARED_FRAMEWORKS_FOLDER_PATH = Test Project.app/Contents/SharedFrameworks
     SHARED_PRECOMPS_DIR = OBJROOT/PrecompiledHeaders
-    SHARED_SUPPORT_FOLDER_PATH = Test Project.app/SharedSupport
+    SHARED_SUPPORT_FOLDER_PATH = Test Project.app/Contents/SharedSupport
     SKIP_INSTALL = NO
     SOURCE_ROOT = SRCROOT
     SRCROOT = SRCROOT
-    STRINGS_FILE_OUTPUT_ENCODING = binary
-    STRIP_BITCODE_FROM_COPIED_FILES = YES
+    STRINGS_FILE_OUTPUT_ENCODING = UTF-16
+    STRIP_BITCODE_FROM_COPIED_FILES = NO
     STRIP_INSTALLED_PRODUCT = YES
+    STRIP_PNG_TEXT = NO
     STRIP_STYLE = all
-    SUPPORTED_DEVICE_FAMILIES = 1,2
-    SUPPORTED_PLATFORMS = iphonesimulator iphoneos
+    SUPPORTED_PLATFORMS = macosx
     SUPPORTS_TEXT_BASED_API = NO
-    SWIFT_PLATFORM_TARGET_PREFIX = ios
+    SWIFT_PLATFORM_TARGET_PREFIX = macosx
     SYMROOT = SYMROOT
     SYSTEM_ADMIN_APPS_DIR = /Applications/Utilities
     SYSTEM_APPS_DIR = /Applications
@@ -351,17 +334,17 @@ Build settings for action build and target "Test Project":
     TAPI_VERIFY_MODE = ErrorsOnly
     TARGETED_DEVICE_FAMILY = 1,2
     TARGETNAME = Test Project
-    TARGET_BUILD_DIR = SYMROOT/Release-iphoneos
+    TARGET_BUILD_DIR = SYMROOT/Release
     TARGET_NAME = Test Project
-    TARGET_TEMP_DIR = OBJROOT/Test Project.build/Release-iphoneos/Test Project.build
-    TEMP_DIR = OBJROOT/Test Project.build/Release-iphoneos/Test Project.build
-    TEMP_FILES_DIR = OBJROOT/Test Project.build/Release-iphoneos/Test Project.build
-    TEMP_FILE_DIR = OBJROOT/Test Project.build/Release-iphoneos/Test Project.build
+    TARGET_TEMP_DIR = OBJROOT/Test Project.build/Release/Test Project.build
+    TEMP_DIR = OBJROOT/Test Project.build/Release/Test Project.build
+    TEMP_FILES_DIR = OBJROOT/Test Project.build/Release/Test Project.build
+    TEMP_FILE_DIR = OBJROOT/Test Project.build/Release/Test Project.build
     TEMP_ROOT = OBJROOT
     TOOLCHAIN_DIR = DEVELOPER_DIR/Toolchains/XcodeDefault.xctoolchain
     TREAT_MISSING_BASELINES_AS_TEST_FAILURES = NO
     UID = 501
-    UNLOCALIZED_RESOURCES_FOLDER_PATH = Test Project.app
+    UNLOCALIZED_RESOURCES_FOLDER_PATH = Test Project.app/Contents/Resources
     UNSTRIPPED_PRODUCT = NO
     USER = VERSION_INFO_BUILDER
     USER_APPS_DIR = USER_APPS_DIR
@@ -370,9 +353,9 @@ Build settings for action build and target "Test Project":
     USE_HEADERMAP = YES
     USE_HEADER_SYMLINKS = NO
     VALIDATE_PRODUCT = YES
-    VALID_ARCHS = arm64 armv7 armv7s
+    VALID_ARCHS = i386 x86_64
     VERBOSE_PBXCP = NO
-    VERSIONPLIST_PATH = Test Project.app/version.plist
+    VERSIONPLIST_PATH = Test Project.app/Contents/version.plist
     VERSION_INFO_BUILDER = VERSION_INFO_BUILDER
     VERSION_INFO_FILE = Test Project_vers.c
     VERSION_INFO_STRING = "@(#)PROGRAM:Test Project  PROJECT:Test Project-"
@@ -385,8 +368,8 @@ Build settings for action build and target "Test Project":
     XCODE_VERSION_ACTUAL = XCODE_VERSION_ACTUAL
     XCODE_VERSION_MAJOR = XCODE_VERSION_MAJOR
     XCODE_VERSION_MINOR = XCODE_VERSION_MINOR
-    XPCSERVICES_FOLDER_PATH = Test Project.app/XPCServices
+    XPCSERVICES_FOLDER_PATH = Test Project.app/Contents/XPCServices
     YACC = yacc
-    arch = arm64
+    arch = x86_64
     variant = normal
 
diff --git a/test/Test Project/Test Project/Test.xcconfig b/test/Test Project/Test Project/Test.xcconfig
index d87a4f8..bc34559 100644
--- a/test/Test Project/Test Project/Test.xcconfig	
+++ b/test/Test Project/Test Project/Test.xcconfig	
@@ -6,4 +6,4 @@
 //  Copyright © 2017 Two Ring Software. All rights reserved.
 //
 
-SDKROOT = iphoneos
+SDKROOT = macosx10.12
